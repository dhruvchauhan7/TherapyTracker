<header class="topbar">
  <div class="brand">TheraTrack Mini</div>
</header>

<section class="auth-wrap">
  <div class="auth-card">
    <div class="auth-head">
      <h1>Sign in</h1>
      <p class="muted">Welcome back! Enter your credentials to continue.</p>
    </div>

    <form (ngSubmit)="submit()" #f="ngForm" class="auth-form">
      <!-- Email -->
      <label class="field">
        <span>Email</span>
        <div class="input-wrap">
          <input type="email"
                 name="email"
                 [(ngModel)]="email"
                 required
                 autocomplete="username"
                 placeholder="you@example.com" />
        </div>
      </label>

      <!-- Password + eye -->
      <label class="field">
        <span>Password</span>
        <div class="input-wrap">
          <input [type]="passwordType"
                 name="password"
                 [(ngModel)]="password"
                 required
                 autocomplete="current-password"
                 placeholder="••••••••" />
          <button class="icon-btn"
                  type="button"
                  (click)="toggleShow($event)"
                  [attr.aria-label]="show ? 'Hide password' : 'Show password'">
            <!-- eye / eye-off SVG -->
            <svg *ngIf="!show" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
              <path fill="currentColor"
                    d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z" />
            </svg>
            <svg *ngIf="show" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
              <path fill="currentColor"
                    d="M3.3 2.3 2 3.6l3.1 3A13.4 13.4 0 0 0 2 12s3 7 10 7c2.2 0 4.1-.6 5.6-1.4l3.4 3.3 1.3-1.3L3.3 2.3Zm6.3 6.1 1.2 1.2a3 3 0 0 0 3 3l1.2 1.2a5 5 0 0 1-5.4-5.4Zm2.4-3.4c7 0 10 7 10 7-.6 1.4-1.5 2.8-2.7 4l-1.4-1.4c.9-.9 1.6-2 2.1-3.1-1-1.9-3.9-5.5-8-5.5-.7 0-1.4.1-2 .2l-1.5-1.5c.9-.3 1.9-.7 3.5-.7Z" />
            </svg>
          </button>
        </div>
      </label>

      <button class="btn btn-primary"
              type="submit"
              [disabled]="loading || f.invalid">
        {{ loading ? 'Signing in…' : 'Login' }}
      </button>

      <p *ngIf="error" class="error">❌ {{ error }}</p>

      <p class="hint">
        Try: <strong>admin@example.com / Passw0rd!</strong><br />
        or <strong>clinician@example.com / Passw0rd!</strong>
      </p>
    </form>
  </div>
</section>
